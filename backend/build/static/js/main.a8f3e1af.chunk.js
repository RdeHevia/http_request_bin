(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(14),i=n.n(a),s=n(3),o=n.n(s),u=n(6),j=n(7),l=n(0),d=function(e){var t=e.createNewBin;return Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",onClick:t,children:"Create new Bin"})})},b=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST"},e.next=3,fetch("/api",t);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){var t=e.handleGoToBin,n=e.binId,c=e.handleBinIdChange,r=e.handleCreateNewBin;return Object(l.jsxs)("main",{children:[Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsxs)("label",{children:["Enter the Bin Id",Object(l.jsx)("input",{type:"text",placeholder:"u6anlg",value:n,onChange:c})]}),Object(l.jsx)("button",{type:"submit",children:"Go!"})]})}),Object(l.jsx)("p",{children:"or"}),Object(l.jsx)(d,{createNewBin:r})]})},O="/api",x=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"/").concat(t,"?check_exists=true"));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=n(2),m=function(e){var t=e.handleGoToHome;return Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:t,children:"Back to Home"})})},w=function(e){var t=e.request;return Object(l.jsxs)("li",{children:[Object(l.jsxs)("section",{children:[Object(l.jsxs)("h1",{children:[t.method," ",t.path]}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:t.protocol.toUpperCase()}),Object(l.jsx)("li",{children:t.hostname}),Object(l.jsx)("li",{children:new Date(t.createdAt).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}),Object(l.jsx)("li",{children:t.ip})]})]}),Object(l.jsxs)("section",{children:[Object(l.jsx)("h2",{children:"Headers"}),Object(l.jsx)("ul",{children:Object.keys(t.headers).map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsxs)("strong",{children:[e,":"]})," ",t.headers[e]]},t._id+e)}))})]}),Object(l.jsxs)("section",{children:[Object(l.jsx)("h2",{children:"Body"}),Object(l.jsx)("textarea",{name:"",id:"",cols:"100",rows:"30",value:JSON.stringify(t.body,null,3),readOnly:!0})]})]})},v=function(e){var t=e.binId,n=e.handleGoToHome,r=Object(c.useState)([]),a=Object(j.a)(r,2),i=a[0],s=a[1],o=Object(c.useState)(""),u=Object(j.a)(o,2),d=u[0],b=u[1],h=Object(c.useState)(""),O=Object(j.a)(h,2),p=O[0],f=O[1];return Object(c.useEffect)((function(){x(t).then((function(e){var t={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};b(new Date(e.createdAt).toLocaleString("en-US",t)),f(new Date(e.updatedAt).toLocaleString("en-US",t)),s(e.requests),console.log(i)}))}),[]),Object(l.jsxs)("main",{children:[Object(l.jsx)(m,{handleGoToHome:n}),Object(l.jsxs)("section",{children:[Object(l.jsx)("p",{children:"Your enpoint:"}),Object(l.jsx)("input",{type:"url",name:"",id:"",readOnly:!0,defaultValue:"".concat(window.location.hostname,"/").concat(t)})]}),Object(l.jsx)("section",{children:Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["Bin ",t]}),Object(l.jsxs)("li",{children:["Bin created on: ",d]}),Object(l.jsxs)("li",{children:["Last request received on: ",p]})]})}),Object(l.jsx)("section",{}),Object(l.jsx)("ul",{children:i.map((function(e){return Object(l.jsx)(w,{request:e},e._id)}))})]})},g=function(){var e=Object(c.useState)(window.localStorage.getItem("binId")||""),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(j.a)(a,2),s=i[0],d=i[1],O=Object(f.f)();Object(c.useEffect)((function(){n?O.push("/bins/".concat(n)):O.push("/")}),[n,O]);var x=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p(s);case 3:e.sent.exists?(r(s),window.localStorage.setItem("binId",s)):(alert("Bin ".concat(s," doesn't exists. Please try again or create a new one")),d(""));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:n=e.sent.binId,r(n),window.localStorage.setItem("binId",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("header",{children:Object(l.jsx)("h1",{children:"Request Bin"})}),Object(l.jsxs)(f.c,{children:[Object(l.jsx)(f.a,{path:"/bins/".concat(n),children:Object(l.jsx)(v,{binId:n,handleGoToHome:function(e){e.preventDefault(),d(n),r(""),window.localStorage.setItem("binId","")}})}),Object(l.jsx)(f.a,{path:"/",children:Object(l.jsx)(h,{binId:s,handleBinIdChange:function(e){d(e.target.value)},handleGoToBin:x,handleCreateNewBin:m})})]})]})},y=n(11);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(y.a,{children:Object(l.jsx)(g,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.a8f3e1af.chunk.js.map